<html>
	<head>
		<title>Orientation Change</title>
		<script type="text/javascript" src="tiui/js/tiui.js"></script>
		<link href="tiui/css/tiui.css" rel="stylesheet" type="text/css">
	</head>
		<!-- <body style="height:360px;line-height:360px;color:white;
	background-color:#111;text-align:center;font-size:18px;font-family:Arial"> -->
<body style="background-repeat: repeat;">
		<div>Rotate your phone</div>
		<div id="text" style="margin:10px">Orientation Data</div>
		<div id="orientation" style="width: 280px"></div>

	<script>
		function textFor(orientation) {
			var G = Titanium.Gesture;
			switch (orientation) {
			case G.PORTRAIT : return "Portrait (" + orientation + ")";
			case G.UPSIDE_PORTRAIT : return "Upside Portrait (" + orientation + ")";
			case G.LANDSCAPE :
			case G.LANDSCAPE_LEFT : return "Landscape ( " + orientation + ")";
			case G.LANDSCAPE_RIGHT : return "Landscape Right (" + orientation + ")";
			default : return "Disoriented (" + orientation + ")";
			}
		};

		Titanium.UI.ready = function()
		{
			Titanium.UI.createTextElement('text',true);
			Titanium.UI.setPropertyBackground();
			var data= [
				{title:'From',type:'readonly',value:'-',id:'from'},
				{title:'To',type:'readonly',value:'-',id:'to'}
			];
			Titanium.UI.createGroupedView('orientation','input',data,function(index)
			{
			});

			var a = Titanium.UI.createAlert();
			a.setTitle('Orientation Test');
			a.setButtonNames(['OK']);

			// trap orientation change
			Titanium.Gesture.addEventListener('orientationchange',function(e)
			{
				/*
				if (Titanium.Gesture.isLandscape(e.to))
				{
					a.setMessage('Orientation is Landscape');
					a.show();
					document.body.style.height = '200px';
					document.body.style.lineHeight = '200px';

				} else if (Titanium.Gesture.isPortrait(e.to)) {
					a.setMessage('Orientation is Portrait');
					a.show();
					document.body.style.height = '360px';
					document.body.style.lineHeight = '360px';
				} else {
					a.setMessage('Orientation is Unknown');
					a.show();
					document.body.style.height = '360px';
					document.body.style.lineHeight = '360px';
				}
				*/
				document.getElementById('from').innerHTML = textFor(e.from);
				document.getElementById('to').innerHTML = textFor(e.to);
			});
		}
	</script>

	</body>
</html>